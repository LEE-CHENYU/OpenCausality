schema_version: 2
metadata:
  name: kspi_k2_stress_narrative
  description: DAG generated from narrative text, based on kspi_k2_stress. Contains
    12 edges (3 matched, 9 new).
  target_node: k2_ratio_kspi
  created: '2026-02-08'
  owner: narrative_pipeline
  tags:
  - narrative
  - auto-generated
nodes:
- id: E_import_share
  name: Pre-period import share
  description: Pre-period regional import intensity (static exposure).
  unit: share
  frequency: static
  type: exposure
  observed: true
  latent: false
  scope: kazakhstan_only
  source:
    preferred:
    - connector: bns
      dataset: regional_accounts
      series: import_share
    fallback: []
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - exposure
  - import
- id: cor_kspi
  name: KSPI cost of risk
  description: Kaspi.kz cost of risk (annualized provisions / avg loans).
  unit: pct
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: credit_quality
      series: cor
      notes: From IR quarterly PDFs
    fallback: []
  aggregation:
    method: average
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - credit_quality
  - kspi
  - provisioning
- id: cpi_headline
  name: Headline CPI
  description: Kazakhstan headline CPI index, log level.
  unit: log
  frequency: monthly
  type: index
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: month
  source:
    preferred:
    - connector: bns
      dataset: prices
      series: cpi_headline
    fallback: []
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - prices
  - inflation
- id: cpi_nontradable
  name: Non-tradable CPI
  description: CPI for non-tradable goods (services). Block A falsification.
  unit: log
  frequency: monthly
  type: index
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: month
  source:
    preferred:
    - connector: bns
      dataset: prices
      series: cpi_nontradable
    fallback: []
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  validated_evidence:
    block_id: block_a_fx_passthrough_falsification
    description: Near-zero FX pass-through to non-tradable CPI
    immutable: true
  tags:
  - prices
  - inflation
  - block_a
  - falsification
- id: cpi_tradable
  name: Tradable CPI
  description: CPI for tradable goods (import-weighted). Block A validated.
  unit: log
  frequency: monthly
  type: index
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: month
  source:
    preferred:
    - connector: bns
      dataset: prices
      series: cpi_tradable
    fallback: []
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  validated_evidence:
    block_id: block_a_fx_passthrough
    description: 11.3% FX pass-through to tradable CPI
    immutable: true
  tags:
  - prices
  - inflation
  - block_a
- id: deposit_cost_kspi
  name: KSPI deposit cost
  description: Kaspi.kz average deposit rate.
  unit: pct
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: income_statement
      series: deposit_rate
      notes: Implied from interest expense / avg deposits
    fallback: []
  aggregation:
    method: average
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - balance_sheet
  - kspi
  - funding
- id: imported_inflation_instrument
  name: Imported inflation IV
  description: Constructed instrument for imported inflation (FX change Ã— pre-period
    import share).
  unit: pct
  frequency: monthly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: month
  derived: true
  identity:
    name: imported_inflation_iv
    formula: diff(kzt_usd) * E_import_share
    depends_on: &id001
    - kzt_usd
    - E_import_share
  depends_on: *id001
  role_constraints:
    never_control: true
    never_instrument: false
  tags:
  - instrument
  - inflation
- id: k2_ratio_kspi
  name: KSPI K2 capital ratio
  description: Kaspi.kz K2 capital adequacy ratio (Total Capital / RWA).
  unit: pct
  frequency: quarterly
  type: share
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  derived: true
  identity:
    name: k2_identity
    formula: exp(total_capital_kspi - rwa_kspi)
    depends_on: &id002
    - total_capital_kspi
    - rwa_kspi
  depends_on: *id002
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: capital
      series: k2_ratio
      notes: May require 20-F for NBK figures
    fallback: []
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - capital
  - kspi
  - target
- id: kzt_usd
  name: KZT/USD exchange rate
  description: Kazakh tenge per US dollar, log level.
  unit: log
  frequency: daily
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 0
    lag_unit: day
  source:
    preferred:
    - connector: nbk
      dataset: exchange_rates
      series: kzt_usd
    fallback:
    - connector: fred
      dataset: exchange_rates
      series: DEXKZUS
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - fx
  - transmission
- id: nominal_expenditure
  name: Nominal consumption expenditure
  description: Household nominal consumption expenditure. Block F validated.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: quarter
  source:
    preferred:
    - connector: bns
      dataset: household_budget
      series: consumption_expenditure_pc
    fallback: []
  transforms:
  - log
  aggregation:
    method: sum
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  validated_evidence:
    block_id: block_f_expenditure
    description: MPC-like response to FX shocks
    immutable: true
  tags:
  - household
  - expenditure
  - block_f
- id: nominal_income
  name: Nominal monetary income
  description: Regional household nominal monetary income. Block B validated.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: quarter
  source:
    preferred:
    - connector: bns
      dataset: household_income
      series: nominal_income_pc
    fallback: []
  transforms:
  - log
  aggregation:
    method: sum
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  validated_evidence:
    block_id: block_b_income_response
    description: LP-IV estimate of nominal income response to external inflation
    immutable: true
  tags:
  - household
  - income
  - block_b
- id: ppop_kspi
  name: KSPI pre-provision operating profit
  description: Kaspi.kz PPOP (revenue - opex, before provisions).
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: income_statement
      series: ppop
      notes: From IR quarterly PDFs
    fallback: []
  transforms:
  - log
  aggregation:
    method: sum
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - income_statement
  - kspi
- id: real_expenditure
  name: Real consumption expenditure
  description: Nominal expenditure deflated by CPI. Block F validated.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: quarter
  derived: true
  identity:
    name: real_expenditure_identity
    formula: nominal_expenditure - cpi_headline
    depends_on: &id003
    - nominal_expenditure
    - cpi_headline
  depends_on: *id003
  role_constraints:
    never_control: false
    never_instrument: false
  validated_evidence:
    block_id: block_f_real_expenditure
    description: IRF(0) = -0.10 for real expenditure response to FX
    immutable: true
  tags:
  - household
  - expenditure
  - block_f
- id: real_income
  name: Real monetary income
  description: Nominal income deflated by CPI. Identity node.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: quarter
  derived: true
  identity:
    name: real_income_identity
    formula: nominal_income - cpi_headline
    depends_on: &id004
    - nominal_income
    - cpi_headline
  depends_on: *id004
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - household
  - income
- id: rwa_kspi
  name: KSPI risk-weighted assets
  description: Kaspi.kz risk-weighted assets for regulatory capital.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: capital
      series: rwa
      notes: May require 20-F for NBK figures
    fallback: []
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - capital
  - kspi
- id: total_capital_kspi
  name: KSPI total capital
  description: Kaspi.kz total regulatory capital (Tier 1 + Tier 2).
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 2
    lag_unit: month
  source:
    preferred:
    - connector: kspi_quarterly
      dataset: capital
      series: total_capital
      notes: May require 20-F for NBK figures
    fallback: []
  transforms:
  - log
  aggregation:
    method: end_of_period
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - capital
  - kspi
- id: transfer_income
  name: Transfer income
  description: Household income from government transfers.
  unit: log
  frequency: quarterly
  type: continuous
  observed: true
  latent: false
  scope: kazakhstan_only
  release_lag:
    periods: 1
    lag_unit: quarter
  source:
    preferred:
    - connector: bns
      dataset: household_income
      series: transfer_income_pc
    fallback: []
  transforms:
  - log
  aggregation:
    method: sum
    seasonal_adjust: true
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: false
    never_instrument: false
  tags:
  - household
  - income
  - channel
- id: vix_shock
  name: VIX shock
  description: Innovation in VIX (risk aversion shock).
  unit: innovation
  frequency: daily
  type: continuous
  observed: true
  latent: false
  scope: global
  release_lag:
    periods: 0
    lag_unit: day
  source:
    preferred:
    - connector: fred
      dataset: financial
      series: VIXCLS
    fallback: []
  transforms:
  - innovation
  - aggregate_mean_to_month
  aggregation:
    method: average
    seasonal_adjust: false
    deflator: null
    deflator_timing: same
  role_constraints:
    never_control: true
    never_instrument: false
  tags:
  - financial
  - shock
  - exogenous
edges:
- id: kzt_usd_to_cpi_tradable
  from: kzt_usd
  to: cpi_tradable
  timing:
    lag: 1
    lag_unit: month
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    - 1
    - 2
    - 3
    - 6
    scale: log
  allowed_designs:
  - LOCAL_PROJECTIONS
  - PANEL_FE_BACKDOOR
  design_priority:
  - LOCAL_PROJECTIONS
  diagnostics_required:
  - pre_trends
  - placebo
  - stability
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 80
      min_pre_periods: 12
    plausibility:
      expected_sign: positive
      magnitude_range:
      - 0.05
      - 0.25
    stability:
      regime_split_date: 2015-08
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.03
  interpretation:
    is: Differential inflation response by import intensity
    is_not:
    - Full pass-through including indirect effects
    - Policy counterfactual
    allowed_uses:
    - shock_counterfactual
    - scenario_only
    forbidden_uses:
    - policy_counterfactual
  validated_evidence:
    block_id: block_a_fx_passthrough
    description: ''
    immutable: true
    estimate: 0.113
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_status: IMMUTABLE
  edge_type: immutable
  notes: 'Block A validated result: 11.3% FX pass-through to tradable CPI.'
- id: kzt_usd_to_cpi_nontradable
  from: kzt_usd
  to: cpi_nontradable
  timing:
    lag: 1
    lag_unit: month
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    - 1
    - 2
    - 3
    - 6
    scale: log
  allowed_designs:
  - LOCAL_PROJECTIONS
  - PANEL_FE_BACKDOOR
  design_priority:
  - LOCAL_PROJECTIONS
  diagnostics_required:
  - pre_trends
  - placebo
  - stability
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 80
      min_pre_periods: 12
    plausibility:
      expected_sign: any
      magnitude_range:
      - -0.05
      - 0.1
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.05
  interpretation:
    is: Falsification test for FX pass-through
    is_not:
    - Primary transmission channel
    allowed_uses:
    - falsification_evidence
    forbidden_uses:
    - shock_counterfactual
    - policy_counterfactual
  validated_evidence:
    block_id: block_a_fx_passthrough_falsification
    description: ''
    immutable: true
    estimate: 0.0
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_status: IMMUTABLE
  edge_type: immutable
  notes: 'Block A falsification: Near-zero pass-through to non-tradable CPI.'
- id: imported_inflation_instrument_to_real_income
  from: imported_inflation_instrument
  to: real_income
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: pct
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Imported inflation induced by exchange-rate depreciation->Households''
    purchasing power (negative)'
- id: cpi_headline_to_real_income
  from: cpi_headline
  to: real_income
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Imported inflation (price level increase) with sticky incomes->Real
    disposable income (negative)'
- id: imported_inflation_instrument_to_real_expenditure_negative
  from: imported_inflation_instrument
  to: real_expenditure
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: pct
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Imported inflation (price level increase) with sticky incomes->Real
    household spending (consumption) (negative)'
- id: transfer_income_to_nominal_income_buffering
  from: transfer_income
  to: nominal_income
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Transfers and regulated prices (buffers) during exchange-rate/price
    shock->Headline nominal income stability (positive)'
- id: real_income_to_cor_kspi
  from: real_income
  to: cor_kspi
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: log
    outcome_unit: pct
  edge_type: causal
  notes: 'NL-extracted: Household purchasing-power squeeze (real income/spending softening)->Kaspi
    balance-sheet pressure (positive); Household squeeze / reduced purchasing power->Repayment
    stress (delinquencies and provisions) (positive); Deterioration in macro conditions
    / household squeeze (stress)->Increase in ''macro provisioning'' ahead of realized
    defaults (positive)'
- id: vix_shock_to_deposit_cost_kspi
  from: vix_shock
  to: deposit_cost_kspi
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: innovation
    outcome_unit: pct
  edge_type: causal
  notes: 'NL-extracted: Tighter financial conditions->Kaspi funding costs (positive)'
- id: vix_shock_to_ppop_kspi
  from: vix_shock
  to: ppop_kspi
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: innovation
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Tighter financial conditions->Kaspi interest margins (profit
    margins) (negative)'
- id: ppop_kspi_to_total_capital_kspi
  from: ppop_kspi
  to: total_capital_kspi
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_type: mechanical
  notes: 'NL-extracted: Profits and provisions dynamics->Kaspi capital headroom (capital
    numerator) (ambiguous)'
- id: rwa_kspi_to_k2_ratio_kspi
  from: rwa_kspi
  to: k2_ratio_kspi
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    scale: level
  allowed_designs: []
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  interpretation:
    is: 'K2 identity: Capital / RWA'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: pct
  edge_status: IDENTITY
  edge_type: identity
  notes: K2 = Total Capital / RWA. Mechanical identity.
- id: real_expenditure_to_ppop_kspi
  from: real_expenditure
  to: ppop_kspi
  timing:
    lag: 1
    lag_unit: quarter
    contemporaneous: false
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon: 0
    scale: level
  allowed_designs:
  - PANEL_FE_BACKDOOR
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
      first_stage_f_min: 10.0
      placebo_p_min: 0.1
      density_p_min: 0.1
    data:
      max_missing_rate: 0.05
      min_obs: 50
      min_pre_periods: 4
    plausibility:
      expected_sign: any
    stability:
      regime_split_date: null
      max_coefficient_change: 0.5
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  edge_type: causal
  notes: 'NL-extracted: Consumer spending holding up during stress->Non-bank revenues
    and dividends (holding company support capacity) (positive)'
- id: kzt_usd_to_imported_inflation_instrument
  from: kzt_usd
  to: imported_inflation_instrument
  edge_type: identity
  edge_status: IDENTITY
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  allowed_designs: []
  interpretation:
    is: 'Identity component: imported_inflation_iv'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: pct
  notes: Auto-created identity edge from imported_inflation_iv
- id: e_import_share_to_imported_inflation_instrument
  from: E_import_share
  to: imported_inflation_instrument
  edge_type: identity
  unit_specification:
    treatment_unit: share
    outcome_unit: pct
  timing:
    lag: 0
    lag_unit: month
    contemporaneous: true
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    scale: level
  allowed_designs: []
  interpretation:
    is: Identity component of imported inflation IV construction
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
    forbidden_uses: []
  identification_strategy:
    type: accounting_identity
    argument: IV = diff(log(kzt_usd)) * E_import_share is a deterministic construction.
    key_assumption: Pre-period import shares are fixed exposure weights.
  edge_status: IDENTITY
  notes: Static exposure weight in IV construction. Formula component.
  provenance:
    source: manual
    added_at: '2026-02-09'
- id: total_capital_kspi_to_k2_ratio_kspi
  from: total_capital_kspi
  to: k2_ratio_kspi
  edge_type: identity
  unit_specification:
    treatment_unit: log
    outcome_unit: pct
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    scale: level
  allowed_designs: []
  interpretation:
    is: 'K2 identity: Capital / RWA'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
    forbidden_uses: []
  identification_strategy:
    type: accounting_identity
    argument: K2 = Total Capital / RWA is a regulatory definition.
    key_assumption: Regulatory definition is stable over the sample period.
  edge_status: IDENTITY
  notes: K2 = Total Capital / RWA. Mechanical identity.
  provenance:
    source: manual
    added_at: '2026-02-02'
- id: nominal_expenditure_to_real_expenditure
  from: nominal_expenditure
  to: real_expenditure
  edge_type: identity
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    scale: log
  allowed_designs: []
  interpretation:
    is: Identity component of real expenditure deflation
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
    forbidden_uses: []
  identification_strategy:
    type: accounting_identity
    argument: real_expenditure = log(nominal_expenditure) - log(cpi_headline) is a
      deflation identity.
    key_assumption: CPI is the appropriate deflator for household consumption.
  edge_status: IDENTITY
  notes: Nominal-to-real deflation identity. Formula component.
  provenance:
    source: manual
    added_at: '2026-02-09'
- id: cpi_headline_to_real_expenditure
  from: cpi_headline
  to: real_expenditure
  edge_type: identity
  edge_status: IDENTITY
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  allowed_designs: []
  interpretation:
    is: 'Identity component: real_expenditure_identity'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  notes: Auto-created identity edge from real_expenditure_identity
- id: nominal_income_to_real_income
  from: nominal_income
  to: real_income
  edge_type: identity
  edge_status: IDENTITY
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  allowed_designs: []
  interpretation:
    is: 'Identity component: real_income_identity'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  notes: Auto-created identity edge from real_income_identity
- id: cor_kspi_to_total_capital_kspi
  from: cor_kspi
  to: total_capital_kspi
  edge_type: mechanical
  unit_specification:
    treatment_unit: pct
    outcome_unit: log
  timing:
    lag: 0
    lag_unit: quarter
    contemporaneous: true
    max_anticipation: 0
  estimand:
    type: elasticity
    horizon:
    - 0
    - 1
    - 2
    scale: log
  allowed_designs:
  - LOCAL_PROJECTIONS
  design_priority:
  - LOCAL_PROJECTIONS
  required_adjustments:
  - ppop_kspi
  forbidden_controls: []
  diagnostics_required:
  - stability
  acceptance_criteria:
    diagnostics:
      pretrend_p_min: 0.1
    data:
      max_missing_rate: 0.1
      min_obs: 20
      min_pre_periods: 4
    plausibility:
      expected_sign: negative
      magnitude_range:
      - -1.0
      - 0.0
    null_acceptance:
      enabled: true
      equivalence_bound: 0.1
  interpretation:
    is: Capital impact from provisioning
    is_not:
    - Net income effect (ignores PPOP)
    allowed_uses:
    - scenario_only
    forbidden_uses:
    - shock_counterfactual
    - policy_counterfactual
  identification_strategy:
    type: accounting_identity
    argument: Provisions directly reduce retained earnings and thus regulatory capital.
    key_assumption: IFRS accounting rules mechanically link provisions to capital.
  edge_status: NEEDS_CONNECTOR
  notes: Provisioning reduces capital. Control for PPOP.
  provenance:
    source: manual
    added_at: '2026-02-02'
- id: cpi_nontradable_to_cpi_headline
  from: cpi_nontradable
  to: cpi_headline
  edge_type: identity
  edge_status: IDENTITY
  timing:
    lag: 0
    lag_unit: monthly
    contemporaneous: true
    max_anticipation: 0
  allowed_designs: []
  interpretation:
    is: 'Aggregation/measurement bridge: cpi_nontradable feeds cpi_headline'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  notes: 'Auto-bridged: cpi_nontradable was unreachable from target. Connected to
    cpi_headline by tag similarity (shared: [''inflation'', ''prices'']).'
- id: cpi_tradable_to_cpi_headline
  from: cpi_tradable
  to: cpi_headline
  edge_type: identity
  edge_status: IDENTITY
  timing:
    lag: 0
    lag_unit: monthly
    contemporaneous: true
    max_anticipation: 0
  allowed_designs: []
  interpretation:
    is: 'Aggregation/measurement bridge: cpi_tradable feeds cpi_headline'
    is_not:
    - Causal relationship
    allowed_uses:
    - scenario_only
  unit_specification:
    treatment_unit: log
    outcome_unit: log
  notes: 'Auto-bridged: cpi_tradable was unreachable from target. Connected to cpi_headline
    by tag similarity (shared: [''inflation'', ''prices'']).'
assumptions:
- id: scope_consistency
  description: Transmission of global shocks to Kazakhstan-specific outcomes preserves
    relative comparisons across regions within KZ.
  applies_to_edges:
  - vix_shock_to_deposit_cost_kspi
  - vix_shock_to_ppop_kspi
  testable: false
latents: []
